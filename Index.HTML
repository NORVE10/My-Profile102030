<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Portfolio Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --bg-color: #f0f2f5; --text-color: #1c1e21; --card-bg: #ffffff;
            --accent-color: #007bff; --bio-bg: #f8f9fa; --table-border: #dee2e6;
        }
        [data-theme="dark"] {
            --bg-color: #0f172a; --text-color: #f1f5f9; --card-bg: #1e293b;
            --accent-color: #38bdf8; --bio-bg: #334155; --table-border: #475569;
        }

        body { background-color: var(--bg-color); color: var(--text-color); margin: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center; font-family: 'Segoe UI', sans-serif; transition: 0.5s; overflow-x: hidden; }
        .container { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; padding: 20px; width: 100%; max-width: 1400px; z-index: 10; }
        
        .card { background: var(--card-bg); width: 100%; max-width: 340px; padding: 30px 20px; border-radius: 24px; box-shadow: 0 20px 25px rgba(0,0,0,0.1); text-align: center; position: relative; height: fit-content; border: 1px solid var(--table-border); }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠØ© Ø§Ù„Ù…ØªÙ†Ø§Ø¸Ø±Ø© */
        .top-controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; width: 100%; position: relative; }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ±Ø¬Ù… (ÙŠÙ…ÙŠÙ†) */
        #google_translate_element { width: 45px; overflow: hidden; height: 35px; transition: 0.3s; }
        #google_translate_element:hover { width: 150px; } /* ÙŠØªÙˆØ³Ø¹ Ø¹Ù†Ø¯ Ø§Ù„Ù„Ù…Ø³ */

        /* Ø²Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ/Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ (ÙŠØ³Ø§Ø±) */
        .mode-toggle { 
            background: none; border: none; cursor: pointer; font-size: 2rem; 
            padding: 0; position: relative; width: 50px; height: 50px; 
            display: flex; align-items: center; justify-content: center;
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø´Ù…Ø³ Ø§Ù„Ù…Ø´Ø±Ù‚Ø© â˜€ï¸ */
        .sun-icon { color: #FFD700; position: relative; animation: rotateSun 10s linear infinite; }
        .sun-icon::after {
            content: ''; position: absolute; inset: -10px;
            border: 2px dashed #FFD700; border-radius: 50%;
            animation: rays 4s linear infinite;
        }
        @keyframes rotateSun { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes rays { 0% { transform: scale(1) rotate(0deg); opacity: 0.5; } 50% { transform: scale(1.2) rotate(180deg); opacity: 1; } 100% { transform: scale(1) rotate(360deg); opacity: 0.5; } }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ù…ØªØºÙŠØ± ğŸŒ™ */
        .moon-icon { color: #f1f5f9; animation: moonPhase 8s ease-in-out infinite; filter: drop-shadow(0 0 10px #fff); }
        @keyframes moonPhase {
            0% { content: 'ğŸŒ™'; transform: scale(1); }
            25% { transform: scale(1.1) rotate(10deg); filter: drop-shadow(0 0 15px #38bdf8); }
            50% { content: 'ğŸŒ•'; transform: scale(1.2); }
            75% { transform: scale(1.1) rotate(-10deg); }
            100% { content: 'ğŸŒ™'; transform: scale(1); }
        }

        /* Ø¨Ù‚ÙŠØ© Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª */
        #profile-img { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 4px solid var(--accent-color); margin-bottom: 15px; }
        #profile-name { font-size: 1.6rem; margin: 10px 0; font-weight: 800; }
        .bio-box { background: var(--bio-bg); padding: 12px; border-radius: 12px; font-size: 0.85rem; line-height: 1.5; margin-top: 15px; }
        .card-title { font-size: 1.5rem; font-weight: 800; margin-bottom: 20px; color: var(--accent-color); text-transform: uppercase; }
        table { width: 100%; border-collapse: collapse; font-size: 0.85rem; direction: ltr; }
        th, td { border: 1px solid var(--table-border); padding: 10px 5px; text-align: center; }
        .cert-emoji { font-size: 2.5rem; text-decoration: none; cursor: pointer; transition: 0.3s; display: block; }
        .cert-emoji:hover { transform: scale(1.3); }
        
        /* Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© */
        .stars-container { position: fixed; inset: 0; pointer-events: none; display: none; z-index: 1; }
        [data-theme="dark"] .stars-container { display: block; }
        .star { position: absolute; font-size: 1.5rem; transition: 0.5s; cursor: pointer; pointer-events: auto; animation: float 5s infinite; }
        .star:hover { transform: scale(2.5) rotate(360deg); text-shadow: 0 0 20px #fff; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-30px); } }
    </style>
</head>
<body>

    <div class="stars-container" id="stars-box"></div>

    <div class="container">
        
        <div class="card" style="order: 1;">
            <div class="card-title">SKILLS</div>
            <table>
                <thead><tr><th>Skill</th><th>Level</th><th>Type</th></tr></thead>
                <tbody id="skills-table"></tbody>
            </table>
            <div class="status" id="st-2">...</div>
        </div>

        <div class="card" style="order: 2;">
            <div class="top-controls">
                <div id="google_translate_element"></div>
                
                <button class="mode-toggle" onclick="toggleTheme()" id="theme-btn">
                    <span class="sun-icon" id="mode-icon">â˜€ï¸</span>
                </button>
            </div>

            <img id="profile-img" src="" alt="Profile">
            <div id="profile-name">...</div>
            <div id="profile-location" style="color: var(--accent-color); font-size: 0.9rem;">...</div>
            <div class="bio-box" id="profile-bio">...</div>
            
            <div class="social-links" style="display: flex; justify-content: center; gap: 15px; margin-top: 15px;">
                <a id="link-youtube" target="_blank" style="font-size: 1.5rem; color: var(--text-color);"><i class="fab fa-youtube"></i></a>
                <a id="link-tiktok" target="_blank" style="font-size: 1.5rem; color: var(--text-color);"><i class="fab fa-tiktok"></i></a>
                <a id="link-whatsapp" target="_blank" style="font-size: 1.5rem; color: var(--text-color);"><i class="fab fa-whatsapp"></i></a>
            </div>
            <div class="status" id="st-1">...</div>
        </div>

        <div class="card" style="order: 3;">
            <div class="card-title">CERTIFICATES</div>
            <div id="certs-container">
                <div class="cert-item"><div id="c1-name" style="font-weight:bold;"></div><a id="c1-link" target="_blank" class="cert-emoji">ğŸ“œ</a><div id="c1-year" style="color:var(--accent-color); font-weight:bold;"></div><div id="c1-bio" style="font-size:0.75rem; opacity:0.8;"></div></div>
                <div style="margin:15px 0; border-top:1px solid var(--table-border); opacity:0.3;"></div>
                <div class="cert-item"><div id="c2-name" style="font-weight:bold;"></div><a id="c2-link" target="_blank" class="cert-emoji">ğŸ“œ</a><div id="c2-year" style="color:var(--accent-color); font-weight:bold;"></div><div id="c2-bio" style="font-size:0.75rem; opacity:0.8;"></div></div>
                <div style="margin:15px 0; border-top:1px solid var(--table-border); opacity:0.3;"></div>
                <div class="cert-item"><div id="c3-name" style="font-weight:bold;"></div><a id="c3-link" target="_blank" class="cert-emoji">ğŸ“œ</a><div id="c3-year" style="color:var(--accent-color); font-weight:bold;"></div><div id="c3-bio" style="font-size:0.75rem; opacity:0.8;"></div></div>
            </div>
            <div class="status" id="st-3">...</div>
        </div>

    </div>

    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'ar', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        }
    </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
        const sheetProfile = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQnevgURX0Qxh66qXlRxqeB2TGWnamJDUaqdaFHBMBnVsERsmGfY-u8DDRgYIIcHZ4q_6cxf3TLyKG9/pub?gid=0&single=true&output=csv';
        const sheetSocial = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQnevgURX0Qxh66qXlRxqeB2TGWnamJDUaqdaFHBMBnVsERsmGfY-u8DDRgYIIcHZ4q_6cxf3TLyKG9/pub?gid=1115684075&single=true&output=csv';
        const sheetSkills = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQnevgURX0Qxh66qXlRxqeB2TGWnamJDUaqdaFHBMBnVsERsmGfY-u8DDRgYIIcHZ4q_6cxf3TLyKG9/pub?gid=1388390928&single=true&output=csv';
        const sheetCerts = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQnevgURX0Qxh66qXlRxqeB2TGWnamJDUaqdaFHBMBnVsERsmGfY-u8DDRgYIIcHZ4q_6cxf3TLyKG9/pub?gid=679704760&single=true&output=csv';
        const proxy = 'https://api.allorigins.win/raw?url=';

        function fetchData() {
            const t = new Date().getTime();
            Papa.parse(proxy + encodeURIComponent(sheetProfile + '&t=' + t), { download: true, complete: function(r) {
                const d = r.data; if(d[4]) {
                    document.getElementById('profile-img').src = d[1][1];
                    document.getElementById('profile-name').innerText = d[2][1];
                    document.getElementById('profile-location').innerText = d[3][1];
                    document.getElementById('profile-bio').innerText = d[4][1];
                    document.getElementById('st-1').innerText = 'Last update: ' + new Date().toLocaleTimeString();
                }
            }});
            Papa.parse(proxy + encodeURIComponent(sheetSocial + '&t=' + t), { download: true, complete: function(r) {
                const d = r.data; if(d[6]) {
                    document.getElementById('link-youtube').href = 'https://' + d[3][1].replace('https://','');
                    document.getElementById('link-tiktok').href = 'https://' + d[5][1].replace('https://','');
                    let wa = d[6][1].replace(/\D/g,'');
                    document.getElementById('link-whatsapp').href = wa ? 'https://wa.me/'+wa : '#';
                }
            }});
            Papa.parse(proxy + encodeURIComponent(sheetSkills + '&t=' + t), { download: true, complete: function(r) {
                const d = r.data; let h = '';
                for(let i=1; i<=3; i++) if(d[i]) h += `<tr><td>${d[i][0]}</td><td>${d[i][1]}</td><td>${d[i][2]}</td></tr>`;
                document.getElementById('skills-table').innerHTML = h;
                document.getElementById('st-2').innerText = 'Skills Updated';
            }});
            Papa.parse(proxy + encodeURIComponent(sheetCerts + '&t=' + t), { download: true, complete: function(r) {
                const d = r.data; if(d.length >= 4) {
                    for(let i=1; i<=3; i++) {
                        document.getElementById(`c${i}-name`).innerText = d[i][0];
                        document.getElementById(`c${i}-bio`).innerText = d[i][1];
                        document.getElementById(`c${i}-year`).innerText = d[i][2];
                        document.getElementById(`c${i}-link`).href = d[i][3];
                    }
                }
                document.getElementById('st-3').innerText = 'Certs Updated';
            }});
        }

        function toggleTheme() {
            const b = document.body;
            const icon = document.getElementById('mode-icon');
            if (b.hasAttribute('data-theme')) {
                b.removeAttribute('data-theme');
                icon.innerText = 'â˜€ï¸';
                icon.className = 'sun-icon';
            } else {
                b.setAttribute('data-theme', 'dark');
                icon.innerText = 'ğŸŒ™';
                icon.className = 'moon-icon';
                createStars();
            }
        }

        function createStars() {
            const c = document.getElementById('stars-box'); c.innerHTML = '';
            for (let i = 0; i < 20; i++) {
                const s = document.createElement('div'); s.className = 'star'; s.innerText = 'â­';
                s.style.left = Math.random()*95+'%'; s.style.top = Math.random()*95+'%';
                s.style.animationDelay = Math.random()*2+'s';
                c.appendChild(s);
            }
        }

        setInterval(fetchData, 10000);
        fetchData();
    </script>
</body>
</html>